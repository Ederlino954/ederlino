<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<title>CFB Cursos - Javascript</title>
		<meta charset="utf-8">
		<style type="text/css">
			#dv1{
				width: 100px;
				height: 100px;
				border: 1px solid #000;
				background-color: #f00;	
				position: absolute;
				left: 0px;
				top: 0px;			
			}

		</style>
		
		<script type="text/javascript">		

			// Base para a movimentação de personagens 

			var dx;
			var dy;
			var px;
			var py;
			var vel;
			var obj;
			var tmp;

			function inicia() {
				dx=0;
				dy=0;
				px=0;
				py=0;
				vel=1;  // velocidade do movimento que pode ser alterada  
				obj=document.getElementById("dv1");
				document.addEventListener("keydown",teclaDw); // quando a tecla é pressionada 
				document.addEventListener("keyup",teclaUp);  // quando a tecla é liberada 
				tmp=setInterval(enterFrame,1); // atualiza as posições do elemento alterando as velocidades dos frames 
			}

			function teclaDw() {
				var tecla=event.keyCode;
				if (tecla==37) {
					dx=-1;					
				} else if(tecla==38){
					dy=-1;
				} else if (tecla==39) {
					dx=1;
				} else if (tecla==40) {
					dy=1;
				}
			}

			function teclaUp() {
				var tecla=event.keyCode;
				if (tecla==37) {
					dx=0;					
				} else if(tecla==38) {
					dy=0;
				} else if (tecla==39) {
					dx=0;
				} else if (tecla==40) {
					dy=0;
				}
			}

			function enterFrame() { // atualizando as posições // base de modificação se for usar em um jogo 
				px+=dx*vel;  // multiplicando os deslocamentos 
				py+=dy*vel;  // multiplicando os deslocamentos  
				obj.style.left=px+"px";
				obj.style.top=py+"px";
			}

			window.addEventListener("load",inicia);
		
		</script>

	</head>
	<body>	

		<div id="dv1"></div>	

	</body>
</html>
